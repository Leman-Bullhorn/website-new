generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Contributor {
  id          String    @id @default(cuid())
  slug        String    @unique
  firstName   String
  lastName    String
  title       String
  bio         String?   @db.Text
  headshotUrl String?
  articles    Article[]
  media       Media[]
}

enum Section {
  News
  Opinions
  Features
  Science
  Sports
  Arts
  Humor
}

model Media {
  id            String       @id @default(cuid())
  contentUrl    String
  contributor   Contributor? @relation(fields: [contributorId], references: [id])
  contributorId String?
  article       Article?     @relation(fields: [articleId], references: [id])
  articleId     String?

  @@index([contributorId])
  @@index([articleId])
}

model Article {
  id              String        @id @default(cuid())
  slug            String        @unique
  headline        String
  focus           String
  body            Json
  published       Boolean       @default(false)
  publicationDate DateTime
  featured        Boolean       @default(false)
  section         Section
  writers         Contributor[]
  media           Media[]
}
